"use strict";(self.webpackChunkstable_app=self.webpackChunkstable_app||[]).push([[7048],{8140:(t,e,s)=>{s.d(e,{Z:()=>h});var a=s(3063),i=s(7313),o=s(5842),n=s(1896),l=s(3745),r=s(9676),g=s(5258),u=s(6417);class d extends i.Component{constructor(t){super(t),this.onLogin=()=>{let t=this.LOGIC_PASSWORD.getPasswordDecode();(0,n.Yr)([{txcode:"#sys:bo-relogin-login",input:{p:t,pin:t}}],{}).then((t=>{this.stausLogin(o.ZP.foGetData("login-status",t))}),(t=>{}))},this.abs_Change=t=>{let{dataFull:e}=this.state;e.PIN.data=this.LOGIC_PASSWORD.setPassword(t.target.value.trim()),this.setState({dataFull:e})},this.startRelogin=()=>{console.log("startRelogin"),this.setState({show:"block"},(()=>{l.ZP.quickPost([{txcode:"#sys:bo-relogin-lockToken",input:{}}],{})}))},this.LOGIC_PASSWORD=new g.y,this.prefixImage="data:image/png;base64,";let e=o.ZP.relogin_getStatus();e=e?"block":"none";let s="../rs/global/img/lock_screen.jpg";o.ZP.getParameterSystem("background_lockScreen")&&(s=o.ZP.getParameterSystem("background_lockScreen")),s=o.ZP.isImage(s)?this.prefixImage+s:s,this.USER_INFO=o.ZP.context_get("user_acc");let a="";if(this.USER_INFO.avatar&&(a=this.USER_INFO.avatar),o.ZP.isImage(a)&&""!==a){let t="data:image/png;base64,";a=a.indexOf(t)>-1?a:t+a}let i=o.ZP.relogin_loginFalseCurrent();this.state={dataFull:{status:{title:this.getStatusTitle()||"getStatusTitle"},PIN:{placeholder:this.getPINPlaceholder(),data:"",abs_Change:this.abs_Change,abs_Submit:this.onLogin},number_import:{title:this.getNumberWrongPassword(i)||"getNumberWrongPassword"},background:{value:s},avatar:{title:this.USER_INFO.user_name||"",value:a},mode:{disable:{status:!1,title:"Your screen is disabled"}}},show:e},this.flag_Unmount=!1}getStatusTitle(){var t;return null===(t=this.USER_INFO)||void 0===t?void 0:t.user_name}getPINPlaceholder(){return o.ZP.getLang("unlock_password_placeholder")}getNumberWrongPassword(t){return`${o.ZP.getLang("number_times_remaining")}: ${o.ZP.relogin_maxLoginFalse()-t}`}stausLogin(t){let{dataFull:e}=this.state;if(e.PIN.data="",this.setState({dataFull:e}),void 0!==t&&void 0!==t.status_login){if("login#127"===t.status_login)return e.number_import.title=this.getNumberWrongPassword(0),this.setState({show:"none",dataFull:e}),o.ZP.relogin_resetCount(),void o.ZP.relogin_setStatus(!1);o.ZP.relogin_up_loginFalse(),e.number_import.title=this.getNumberWrongPassword(o.ZP.relogin_loginFalseCurrent()),this.setState({reloginUserCountCurrent:o.ZP.relogin_loginFalseCurrent(),dataFull:e}),alert(o.ZP.getLang(t.status_login)),o.ZP.relogin_checkOverLoadLoginFalse()&&l.ZP.fo([{txcode:"#sys:fo-goto-pageLogin",input:{}}],{})}}componentWillUnmount(){this.flag_Unmount=!0}componentDidMount(){o.ZP.relogin_setForm(this),"L"===(0,o.TS)()&&(o.ZP.relogin_setStatus(!0),this.startRelogin())}render(){const t=(0,r.RP)("uLockScreen");return(0,u.jsx)(t,{dataFull:(0,a.Z)((0,a.Z)({},this.state.dataFull),{isShow:"none"!==this.state.show})})}}const h=d},7048:(t,e,s)=>{s.r(e),s.d(e,{default:()=>h});var a=s(7313),i=s(6381),o=s(9394),n=s(7483),l=s(3664),r=s(8140),g=s(5842),u=s(6417);class d extends a.Component{constructor(t){super(t);const e=g.ZP.context_get("user_jwebui");this.additionalConfig={dataHeader:{persist_info_user_add:{tooltip:{title_big:null===e||void 0===e?void 0:e.email,isClose:!1}}}}}render(){return(0,u.jsxs)(a.Fragment,{children:[(0,u.jsx)(r.Z,{}),(0,u.jsx)(l.Z,{}),(0,u.jsx)(i.Z,{additionalConfig:this.additionalConfig}),(0,u.jsx)("div",{className:"d-flex col-12 malibu-desktop-content",children:(0,u.jsxs)("div",{className:"main",style:{width:"100%"},children:[(0,u.jsx)(n.Z,{}),(0,u.jsx)(o.Z,{})]})})]})}}const h=d}}]);