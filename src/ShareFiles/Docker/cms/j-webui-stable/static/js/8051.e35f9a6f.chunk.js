"use strict";(self.webpackChunkstable_app=self.webpackChunkstable_app||[]).push([[8051],{8051:(e,a,t)=>{t.r(a),t.d(a,{default:()=>c});var l=t(7313),s=t(9676),i=t(8308),o=t(5842),d=t(6417);const r={structable:"",structable_read:"",data_default:"",data_type:"edit",component_title:"",mask_format:"",mask_data_format:"",value_type:"all",auto_delete:"true",mask_mode:"default",status:"",reg_remove:"",content_style:"",isLabel:"false",read_style:"encode_server",action:"",txFoActions:JSON.stringify([{function:"",status:"A",para:[]}],null,4),txFo:JSON.stringify([{txcode:"",input:{}}],null,4),useAction:"true",icon:"fa-floppy-o",color:"info",onTable:"",isMasterData:"false",isLookup:"",cmd:"",callform:"",uploadfile:{active:"false",filetype:""}};class n extends l.Component{constructor(e){super(e),this.getData=()=>{let{CCPDefaultConfig:e}=this.state,a=e.action.action_callForm.dataFull.data.find((e=>e.selected)),t=e.master_data.MD_isMasterData.dataFull.data.find((e=>e.selected)),l=e.master_data.tableMasterData.dataFull.data.find((e=>e.selected)),s=e.master_data.privateKeyTableMasterData.dataFull.data.find((e=>e.selected)),i=e.active.dataFull.data.find((e=>e.selected)),o=e.read_style.dataFull.data.find((e=>e.selected));return{structable:e.GS_collectionMethod.dataFull.value,structable_read:e.GS_readData.dataFull.value,onTable:e.for_grid.dataFull.value,icon:e.icon.dataFull.value,color:e.color.dataFull.value,action:this.data.action,useAction:a.value,txFoActions:"true"===a.value?e.action.action_textarea.dataFull.value:this.data.txFoActions,txFo:"true"!==a.value?e.action.action_textarea.dataFull.value:this.data.txFo,isMasterData:t.value,tableMasterData:l.value,privateKeyTableMasterData:s?s.value:"",isLookup:this.data.isLookup,cmd:this.data.cmd,callform:this.data.callform,uploadfile:{active:i.value,filetype:e.filetype.dataFull.value},read_style:o.value}},this.loadDataToState=()=>{let e={},a=[],t=[];for(let l=0;l<this.data_schema.length;l++)a.push({title:this.data_schema[l].title,value:this.data_schema[l].code,selected:this.data.tableMasterKey===this.data_schema[l].code});!a.find((e=>e.selected))&&a.length>0&&(a[0].selected=!0);for(let l=0;l<this.data_schema_pk.length;l++)t.push({title:this.data_schema_pk[l].title,value:this.data_schema_pk[l].code,selected:this.data.privateKeyTableMasterData===this.data_schema_pk[l].code});return!t.find((e=>e.selected))&&t.length>0&&(t[0].selected=!0),e.GS_multiValue={dataFull:{config:{default:{title:"GET AND SET DATA"},cmd:{visible:!0}}}},e.GS_collectionMethod={dataFull:{config:{default:{title:o.ZP.getLang("designForm_cp_structable"),class:"col-md-12 ",required:!1,placeholder:o.ZP.getLang("designForm_cp_structable"),helper:o.ZP.getLang("designForm_cp_structable_helper"),code_form_component:"GS_collectionMethod"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.structable,abs_Change:this.onChangeValue}},e.GS_readData={dataFull:{config:{default:{title:o.ZP.getLang("designForm_cp_structable"),class:"col-md-12 ",required:!1,placeholder:o.ZP.getLang("designForm_cp_structable"),helper:o.ZP.getLang("designForm_cp_structable_helper"),code_form_component:"GS_readData"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.structable_read,abs_Change:this.onChangeValue}},e.for_grid={dataFull:{config:{default:{title:o.ZP.getLang("designForm_jUploadFile_forGrid"),class:"col-md-6 ",required:!1,placeholder:o.ZP.getLang("designForm_jUploadFile_forGrid"),helper:o.ZP.getLang("designForm_jUploadFile_forGrid"),code_form_component:"for_grid"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.onTable,abs_Change:this.onChangeValue}},e.icon={dataFull:{config:{default:{title:o.ZP.getLang("designForm_jUploadFile_icon"),class:"col-md-6 ",required:!1,placeholder:o.ZP.getLang("designForm_jUploadFile_icon"),helper:o.ZP.getLang("designForm_jUploadFile_icon"),code_form_component:"icon"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.icon,abs_Change:this.onChangeValue}},e.color={dataFull:{config:{default:{title:o.ZP.getLang("designForm_jUploadFile_color"),class:"col-md-6 ",required:!1,placeholder:o.ZP.getLang("designForm_jUploadFile_color"),helper:o.ZP.getLang("designForm_jUploadFile_color"),code_form_component:"color"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.color,abs_Change:this.onChangeValue}},e.filetype={dataFull:{config:{default:{title:o.ZP.getLang("designForm_cButton_filetype"),class:"col-md-6 ",required:!1,placeholder:"image/png, image/jpeg",helper:o.ZP.getLang("designForm_cButton_filetype_helper"),code_form_component:"filetype"},cmd:{isHelper:!0,disable:!1,visible:"true"===this.data.uploadfile.active,isFocus:!1,error:{message:"",type:""}}},mode:{isSearch:!1},value:this.data.uploadfile.filetype,abs_Change:this.onChangeValue}},e.active={dataFull:{config:{default:{search:{placeholder:o.ZP.getLang("designForm_cButton_is_upload")},helper:o.ZP.getLang("designForm_cButton_is_upload_hepler"),data_status:"No Result",title:o.ZP.getLang("designForm_cButton_is_upload"),class:"col-md-6",required:!1,code_form_component:"active"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}},mode:{}},data:[{title:o.ZP.getLang("designForm_yes"),value:"true",selected:"true"===this.data.uploadfile.active},{title:o.ZP.getLang("designForm_no"),value:"false",selected:"true"!==this.data.uploadfile.active}],search_value:"",abs_Change:this.onChangeValueSelect,abs_search:this.search}},e.read_style={dataFull:{config:{default:{search:{placeholder:o.ZP.getLang("designForm_jUploadFile_read_tyle")},helper:o.ZP.getLang("designForm_jUploadFile_read_tyle_hepler"),data_status:"No Result",title:o.ZP.getLang("designForm_jUploadFile_read_tyle"),class:"col-md-6",required:!1,code_form_component:"read_style"},cmd:{isHelper:!0,disable:!1,visible:!0,isFocus:!1,error:{message:"",type:""}},mode:{}},data:[{title:"Encode in server",value:"encode_server",selected:"encode_server"===this.data.read_style},{title:"Plain text base64",value:"base64",selected:"base64"===this.data.read_style},{title:"Data URI base64",value:"uri_base64",selected:"uri_base64"===this.data.read_style},{title:"Text in file",value:"text_in_file",selected:"text_in_file"===this.data.read_style}],search_value:"",abs_Change:this.onChangeValueSelect,abs_search:this.search}},e.action={action_multiValue:{dataFull:{config:{default:{title:o.ZP.getLang("designForm_action")},cmd:{visible:!0}}}},action_callForm:this.obj_render_txFo.useActionConfig,action_textarea:this.obj_render_txFo.txFoConfig},e.master_data={MD_multiValue:{dataFull:{config:{default:{title:o.ZP.getLang("designForm_jUploadFile_MasterData")},cmd:{visible:!1}}}},MD_isMasterData:{dataFull:{config:{default:{search:{placeholder:o.ZP.getLang("designForm_jUploadFile_isMasterData")},helper:o.ZP.getLang("designForm_jUploadFile_isMasterData_helper"),data_status:"No Result",title:o.ZP.getLang("designForm_jUploadFile_isMasterData"),class:"col-md-6",required:!1,code_form_component:"MD_isMasterData"},cmd:{isHelper:!0,disable:!1,visible:!1,isFocus:!1,error:{message:"",type:""}},mode:{}},data:[{title:o.ZP.getLang("designForm_yes"),value:"true",selected:"true"===this.data.isMasterData},{title:o.ZP.getLang("designForm_no"),value:"false",selected:"true"!==this.data.isMasterData}],search_value:"",abs_Change:this.onChangeValueSelect,abs_search:this.search}},tableMasterData:{dataFull:{config:{default:{search:{placeholder:o.ZP.getLang("designForm_jUploadFile_tableMasterData")},helper:o.ZP.getLang("designForm_jUploadFile_tableMasterData_helper"),data_status:"No Result",title:o.ZP.getLang("designForm_jUploadFile_tableMasterData"),class:"col-md-6",required:!1,code_form_component:"tableMasterData"},cmd:{isHelper:!0,disable:!1,visible:!1,isFocus:!1,error:{message:"",type:""}},mode:{}},data:a,search_value:"",abs_Change:this.onChangeValueSelect_tableMasterData,abs_search:this.search}},privateKeyTableMasterData:{dataFull:{config:{default:{search:{placeholder:o.ZP.getLang("designForm_jUploadFile_privateKeyTableMasterData")},helper:o.ZP.getLang("designForm_jUploadFile_privateKeyTableMasterData_helper"),data_status:"No Result",title:o.ZP.getLang("designForm_jUploadFile_privateKeyTableMasterData"),class:"col-md-6",required:!1,code_form_component:"privateKeyTableMasterData"},cmd:{isHelper:!0,disable:!1,visible:!1,isFocus:!1,error:{message:"",type:""}},mode:{}},data:t,search_value:"",abs_Change:this.onChangeValueSelect_tableMasterData,abs_search:this.search}}},e},this.componentDidMount=()=>{this.data=this.readConfig(this.props.configComponent.configItem.config),this.obj_render_txFo=i.default.readConfigData(this.data,this.onChangeValueSelect,this.onChangeValue_ActionContent),this.setState({CCPDefaultConfig:this.loadDataToState()})},this.onChangeValue=(e,a)=>{let{CCPDefaultConfig:t}=this.state;t[a].dataFull.value=e.target.value,this.setState({CCPDefaultConfig:t})},this.onChangeValue_ActionContent=(e,a)=>{let{CCPDefaultConfig:t}=this.state;t.action.action_textarea.dataFull.value=e.target.value,this.setState({CCPDefaultConfig:t})},this.getListPrivateKeyTable=e=>{let a=[];var t=this.changDataSchemaTo_privateKeyTableMasterData(e);if(void 0!==t.data_schema_pk){this.data_schema_pk=t.data_schema_pk;for(let e=0;e<this.data_schema_pk.length;e++)a.push({title:this.data_schema_pk[e].title,value:this.data_schema_pk[e].code,selected:this.data.privateKeyTableMasterData===this.data_schema_pk[e].code});!a.find((e=>e.selected))&&a.length>0&&(a[0].selected=!0)}return a},this.onChangeValueSelect_tableMasterData=(e,a,t)=>{let{CCPDefaultConfig:l}=this.state;"tableMasterData"===t&&(l.master_data.privateKeyTableMasterData.dataFull.data=this.getListPrivateKeyTable(e));for(const s of l.master_data[t].dataFull.data)s.selected=s.value===e;this.setState({CCPDefaultConfig:l})},this.onChangeValueSelect=(e,a,t)=>{let{CCPDefaultConfig:l}=this.state;if(t){if("action_event"===t){let e=[],t=[];e=l.action.action_callForm.dataFull.data.filter((e=>e.selected)),t=l.action.action_callForm.dataFull.data.filter(((e,t)=>t===a)),e.length>0&&(e[0].selected=!1),t.length>0&&(t[0].selected=!0),l.action.action_textarea={dataFull:{config:{default:{helper:t[0].title,title:t[0].title,class:"col-md-12",rows:10,code_form_component:"true"===t[0].value?"txFoAction":"txFo"},cmd:{isHelper:!0,disable:!1,visible:!0,error:{message:"",type:""}}},data:[],value:"true"===t[0].value?this.data.txFoActions:this.data.txFo,abs_Change:this.onChangeValue_ActionContent}}}else if("MD_isMasterData"===t){l.master_data.tableMasterData.dataFull.config.cmd.visible="true"===e,l.master_data.privateKeyTableMasterData.dataFull.config.cmd.visible="true"===e;for(const a of l.master_data[t].dataFull.data)a.selected=a.value===e}else if("active"===t){l.filetype.dataFull.config.cmd.visible="true"===e;for(const a of l[t].dataFull.data)a.selected=a.value===e}else for(const a of l[t].dataFull.data)a.selected=a.value===e;this.setState({CCPDefaultConfig:l})}},this.CCP_Default_Config_button_upload=(0,s.Iq)("CCP_Default_Config_button_upload"),this.DESIGNFORM_CODE_TOOL_ITEMS="designToolItem",this.data=this.readConfig(this.props.configComponent.configItem.config),this.obj_render_txFo={},this.data_schema=[],this.data_schema_pk=[],this.state={CCPDefaultConfig:{}}}changDataSchemaToDataSelect(){for(var e=(0,o.Wc)().all_id_button,a=[{title:"Ch\u01b0a ch\u1ecdn",code:""}],t=0;t<e.length;t++)a[a.length]={title:e[t].title,code:e[t].type};return a.sort((function(e,a){var t=e.title.toUpperCase(),l=a.title.toUpperCase();return t<l?-1:t>l?1:0})),a}changDataSchemaTo_privateKeyTableMasterData(e){var a=(0,o.Wc)(),t=[],l="";if(void 0!==a&&void 0!==a.all_id_button)for(var s=a.all_id_button,i=0;i<s.length;i++){var d=s[i];if(void 0!==d.type&&void 0!==d.detail&&""!==d.type.trim()&&d.type.trim()===e){for(var r=0;r<d.detail.length;r++){var n=d.detail[r];void 0!==n.datapk&&"true"===n.datapk&&(""===l&&(l=n.code),t[t.length]={title:n.title,code:n.code})}break}}return{data_schema_pk:t,privateKeyTableMasterData:l}}readConfig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={};void 0===e&&(e={});for(let l in r)void 0!==e[l]&&null!==e[l]?a[l]=e[l]:a[l]=r[l];if(this.data_schema=this.changDataSchemaToDataSelect(),this.data_schema.length>0){var t=this.changDataSchemaTo_privateKeyTableMasterData(e.tableMasterData);void 0!==t.data_schema_pk&&(this.data_schema_pk=t.data_schema_pk)}return null!=e.tableMasterData?a.tableMasterData=e.tableMasterData:a.tableMasterData=this.data_schema[0].code,null!=e.privateKeyTableMasterData?a.privateKeyTableMasterData=e.privateKeyTableMasterData:a.privateKeyTableMasterData=this.data_schema_pk.length>0?this.data_schema_pk[0].code:"",a}render(){const e=this.CCP_Default_Config_button_upload;return(0,d.jsx)(e,{stateData:this.state.CCPDefaultConfig})}}const c=n}}]);