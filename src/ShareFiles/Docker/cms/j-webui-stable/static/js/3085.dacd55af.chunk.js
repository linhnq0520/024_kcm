"use strict";(self.webpackChunkstable_app=self.webpackChunkstable_app||[]).push([[3085],{545:(t,e,s)=>{s.d(e,{Z:()=>d});var a=s(3063),n=s(7313),o=s(5842),i=s(3745),r=s(2590),l=s(9676),u=s(6417);class g extends n.Component{constructor(t){super(t),this.callScreen=()=>{let t={sidebarBody:this.loopLoopMenuData(this.data_menu,"0")};this.sidebar.abs_changeLang(t.sidebarBody),this.setState({auto_change:o.ZP.autoID(),data:t})},this.openForm=t=>{void 0!==t&&void 0!==t.group_menu_function_code&&i.ZP.fo([{txcode:"#sys:fo-sys-sliderbarCallForm",input:{form_code:t.group_menu_function_code}}],{})},this.data_menu=o.ZP.cloneJson(r.Z.getMenu(1))||[],this.type_screen="sidebar",this.data_menu=this.data_menu.filter((t=>"T"===t.group_menu.group_menu_visible||!t.group_menu.group_menu_visible)),this.state={data:{sidebarBody:this.loopLoopMenuData(this.data_menu,"0")},parent:""}}componentDidMount(){o.ZP.addScreen(this)}loopLoopMenuData(t,e){let s=[],a=this.findDataOfParent(t,e);if(a.length>0)for(let n=0;n<a.length;n++){let e=a[n],i=e.group_menu.group_menu_name,r=e.group_menu.group_menu_function_code;if(void 0!==e.group_menu.group_menu_lang&&(i=e.group_menu.group_menu_lang[o.ZP.getLangKey()]),""!==i&&void 0!==i){let a=this.loopLoopMenuData(t,e.group_menu.group_menu_id),n="";void 0!==e.group_menu.group_menu_icon&&(n=e.group_menu.group_menu_icon);let o={data:a,group_menu_function_code:r,title:i,icon:n};s.push(o)}}return s}findDataOfParent(t,e){let s=[];for(let a=0;a<t.length;a++){let n=t[a];e===n.group_menu.group_menu_parent&&s.push(n)}return s}render(){const t=(0,l.RP)("uSideBarMenu");return(0,u.jsx)(t,{ref:t=>{this.sidebar=t},dataFull:(0,a.Z)((0,a.Z)({},this.state.data),{},{abs_select:this.openForm})})}}const d=g},8140:(t,e,s)=>{s.d(e,{Z:()=>_});var a=s(3063),n=s(7313),o=s(5842),i=s(1896),r=s(3745),l=s(9676),u=s(5258),g=s(6417);class d extends n.Component{constructor(t){super(t),this.onLogin=()=>{let t=this.LOGIC_PASSWORD.getPasswordDecode();(0,i.Yr)([{txcode:"#sys:bo-relogin-login",input:{p:t,pin:t}}],{}).then((t=>{this.stausLogin(o.ZP.foGetData("login-status",t))}),(t=>{}))},this.abs_Change=t=>{let{dataFull:e}=this.state;e.PIN.data=this.LOGIC_PASSWORD.setPassword(t.target.value.trim()),this.setState({dataFull:e})},this.startRelogin=()=>{console.log("startRelogin"),this.setState({show:"block"},(()=>{r.ZP.quickPost([{txcode:"#sys:bo-relogin-lockToken",input:{}}],{})}))},this.LOGIC_PASSWORD=new u.y,this.prefixImage="data:image/png;base64,";let e=o.ZP.relogin_getStatus();e=e?"block":"none";let s="../rs/global/img/lock_screen.jpg";o.ZP.getParameterSystem("background_lockScreen")&&(s=o.ZP.getParameterSystem("background_lockScreen")),s=o.ZP.isImage(s)?this.prefixImage+s:s,this.USER_INFO=o.ZP.context_get("user_acc");let a="";if(this.USER_INFO.avatar&&(a=this.USER_INFO.avatar),o.ZP.isImage(a)&&""!==a){let t="data:image/png;base64,";a=a.indexOf(t)>-1?a:t+a}let n=o.ZP.relogin_loginFalseCurrent();this.state={dataFull:{status:{title:this.getStatusTitle()||"getStatusTitle"},PIN:{placeholder:this.getPINPlaceholder(),data:"",abs_Change:this.abs_Change,abs_Submit:this.onLogin},number_import:{title:this.getNumberWrongPassword(n)||"getNumberWrongPassword"},background:{value:s},avatar:{title:this.USER_INFO.user_name||"",value:a},mode:{disable:{status:!1,title:"Your screen is disabled"}}},show:e},this.flag_Unmount=!1}getStatusTitle(){var t;return null===(t=this.USER_INFO)||void 0===t?void 0:t.user_name}getPINPlaceholder(){return o.ZP.getLang("unlock_password_placeholder")}getNumberWrongPassword(t){return`${o.ZP.getLang("number_times_remaining")}: ${o.ZP.relogin_maxLoginFalse()-t}`}stausLogin(t){let{dataFull:e}=this.state;if(e.PIN.data="",this.setState({dataFull:e}),void 0!==t&&void 0!==t.status_login){if("login#127"===t.status_login)return e.number_import.title=this.getNumberWrongPassword(0),this.setState({show:"none",dataFull:e}),o.ZP.relogin_resetCount(),void o.ZP.relogin_setStatus(!1);o.ZP.relogin_up_loginFalse(),e.number_import.title=this.getNumberWrongPassword(o.ZP.relogin_loginFalseCurrent()),this.setState({reloginUserCountCurrent:o.ZP.relogin_loginFalseCurrent(),dataFull:e}),alert(o.ZP.getLang(t.status_login)),o.ZP.relogin_checkOverLoadLoginFalse()&&r.ZP.fo([{txcode:"#sys:fo-goto-pageLogin",input:{}}],{})}}componentWillUnmount(){this.flag_Unmount=!0}componentDidMount(){o.ZP.relogin_setForm(this),"L"===(0,o.TS)()&&(o.ZP.relogin_setStatus(!0),this.startRelogin())}render(){const t=(0,l.RP)("uLockScreen");return(0,g.jsx)(t,{dataFull:(0,a.Z)((0,a.Z)({},this.state.dataFull),{isShow:"none"!==this.state.show})})}}const _=d},3085:(t,e,s)=>{s.r(e),s.d(e,{default:()=>_});var a=s(7313),n=s(545),o=s(6381),i=s(9394),r=s(7483),l=s(3664),u=s(8140),g=s(6417);class d extends a.Component{constructor(t){super(t),this.additionalConfig={dataHeader:[]}}render(){return(0,g.jsxs)(a.Fragment,{children:[(0,g.jsx)(u.Z,{}),(0,g.jsx)(l.Z,{}),(0,g.jsxs)("div",{className:"d-flex col-12 malibu-desktop-header",children:[(0,g.jsx)(n.Z,{}),(0,g.jsx)("div",{className:"main",style:{width:"100%"},children:(0,g.jsx)(o.Z,{additionalConfig:this.additionalConfig})})]}),(0,g.jsx)("div",{className:"d-flex col-12 malibu-desktop-content",children:(0,g.jsxs)("div",{className:"main",style:{width:"100%"},children:[(0,g.jsx)(r.Z,{}),(0,g.jsx)(i.Z,{})]})})]})}}const _=d}}]);